


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > WebMvcAutoConfiguration</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.springframework.boot.autoconfigure.web.servlet</a>
</div>

<h1>Coverage Summary for Class: WebMvcAutoConfiguration (org.springframework.boot.autoconfigure.web.servlet)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">WebMvcAutoConfiguration</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
</tr>
  <tr>
    <td class="name">WebMvcAutoConfiguration$EnableWebMvcConfiguration</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/19)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/81)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">WebMvcAutoConfiguration$OptionalPathExtensionContentNegotiationStrategy</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">WebMvcAutoConfiguration$ProblemDetailsErrorHandlingConfiguration</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">WebMvcAutoConfiguration$ResourceChainCustomizerConfiguration</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">WebMvcAutoConfiguration$ResourceChainResourceHandlerRegistrationCustomizer</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/18)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">WebMvcAutoConfiguration$ResourceHandlerRegistrationCustomizer</td>
  </tr>
  <tr>
    <td class="name">WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/21)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/76)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">WebMvcAutoConfiguration$WelcomePageHandlerMappingFactory</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/54)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/190)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * Copyright 2012-2023 the original author or authors.
&nbsp; *
&nbsp; * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
&nbsp; * you may not use this file except in compliance with the License.
&nbsp; * You may obtain a copy of the License at
&nbsp; *
&nbsp; *      https://www.apache.org/licenses/LICENSE-2.0
&nbsp; *
&nbsp; * Unless required by applicable law or agreed to in writing, software
&nbsp; * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
&nbsp; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
&nbsp; * See the License for the specific language governing permissions and
&nbsp; * limitations under the License.
&nbsp; */
&nbsp;
&nbsp;package org.springframework.boot.autoconfigure.web.servlet;
&nbsp;
&nbsp;import java.time.Duration;
&nbsp;import java.util.List;
&nbsp;import java.util.ListIterator;
&nbsp;import java.util.Map;
&nbsp;import java.util.function.Consumer;
&nbsp;
&nbsp;import jakarta.servlet.Servlet;
&nbsp;import jakarta.servlet.ServletContext;
&nbsp;import org.apache.commons.logging.Log;
&nbsp;import org.apache.commons.logging.LogFactory;
&nbsp;
&nbsp;import org.springframework.beans.factory.BeanFactory;
&nbsp;import org.springframework.beans.factory.ListableBeanFactory;
&nbsp;import org.springframework.beans.factory.NoSuchBeanDefinitionException;
&nbsp;import org.springframework.beans.factory.ObjectProvider;
&nbsp;import org.springframework.boot.autoconfigure.AutoConfiguration;
&nbsp;import org.springframework.boot.autoconfigure.AutoConfigureOrder;
&nbsp;import org.springframework.boot.autoconfigure.EnableAutoConfiguration;
&nbsp;import org.springframework.boot.autoconfigure.condition.ConditionalOnBean;
&nbsp;import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;
&nbsp;import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;
&nbsp;import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;
&nbsp;import org.springframework.boot.autoconfigure.condition.ConditionalOnWebApplication;
&nbsp;import org.springframework.boot.autoconfigure.condition.ConditionalOnWebApplication.Type;
&nbsp;import org.springframework.boot.autoconfigure.http.HttpMessageConverters;
&nbsp;import org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration;
&nbsp;import org.springframework.boot.autoconfigure.template.TemplateAvailabilityProviders;
&nbsp;import org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration;
&nbsp;import org.springframework.boot.autoconfigure.validation.ValidatorAdapter;
&nbsp;import org.springframework.boot.autoconfigure.web.ConditionalOnEnabledResourceChain;
&nbsp;import org.springframework.boot.autoconfigure.web.WebProperties;
&nbsp;import org.springframework.boot.autoconfigure.web.WebProperties.Resources;
&nbsp;import org.springframework.boot.autoconfigure.web.WebProperties.Resources.Chain.Strategy;
&nbsp;import org.springframework.boot.autoconfigure.web.WebResourcesRuntimeHints;
&nbsp;import org.springframework.boot.autoconfigure.web.format.DateTimeFormatters;
&nbsp;import org.springframework.boot.autoconfigure.web.format.WebConversionService;
&nbsp;import org.springframework.boot.autoconfigure.web.servlet.WebMvcProperties.Format;
&nbsp;import org.springframework.boot.context.properties.EnableConfigurationProperties;
&nbsp;import org.springframework.boot.convert.ApplicationConversionService;
&nbsp;import org.springframework.boot.web.servlet.ServletRegistrationBean;
&nbsp;import org.springframework.boot.web.servlet.filter.OrderedFormContentFilter;
&nbsp;import org.springframework.boot.web.servlet.filter.OrderedHiddenHttpMethodFilter;
&nbsp;import org.springframework.boot.web.servlet.filter.OrderedRequestContextFilter;
&nbsp;import org.springframework.context.ApplicationContext;
&nbsp;import org.springframework.context.ResourceLoaderAware;
&nbsp;import org.springframework.context.annotation.Bean;
&nbsp;import org.springframework.context.annotation.Configuration;
&nbsp;import org.springframework.context.annotation.Import;
&nbsp;import org.springframework.context.annotation.ImportRuntimeHints;
&nbsp;import org.springframework.core.Ordered;
&nbsp;import org.springframework.core.annotation.Order;
&nbsp;import org.springframework.core.io.Resource;
&nbsp;import org.springframework.core.io.ResourceLoader;
&nbsp;import org.springframework.core.task.AsyncTaskExecutor;
&nbsp;import org.springframework.format.FormatterRegistry;
&nbsp;import org.springframework.format.support.FormattingConversionService;
&nbsp;import org.springframework.http.MediaType;
&nbsp;import org.springframework.http.converter.HttpMessageConverter;
&nbsp;import org.springframework.util.AntPathMatcher;
&nbsp;import org.springframework.util.ClassUtils;
&nbsp;import org.springframework.validation.DefaultMessageCodesResolver;
&nbsp;import org.springframework.validation.MessageCodesResolver;
&nbsp;import org.springframework.validation.Validator;
&nbsp;import org.springframework.web.HttpMediaTypeNotAcceptableException;
&nbsp;import org.springframework.web.accept.ContentNegotiationManager;
&nbsp;import org.springframework.web.accept.ContentNegotiationStrategy;
&nbsp;import org.springframework.web.bind.support.ConfigurableWebBindingInitializer;
&nbsp;import org.springframework.web.context.ServletContextAware;
&nbsp;import org.springframework.web.context.request.NativeWebRequest;
&nbsp;import org.springframework.web.context.request.RequestAttributes;
&nbsp;import org.springframework.web.context.request.RequestContextListener;
&nbsp;import org.springframework.web.context.support.ServletContextResource;
&nbsp;import org.springframework.web.filter.FormContentFilter;
&nbsp;import org.springframework.web.filter.HiddenHttpMethodFilter;
&nbsp;import org.springframework.web.filter.RequestContextFilter;
&nbsp;import org.springframework.web.servlet.DispatcherServlet;
&nbsp;import org.springframework.web.servlet.FlashMapManager;
&nbsp;import org.springframework.web.servlet.HandlerExceptionResolver;
&nbsp;import org.springframework.web.servlet.LocaleResolver;
&nbsp;import org.springframework.web.servlet.View;
&nbsp;import org.springframework.web.servlet.ViewResolver;
&nbsp;import org.springframework.web.servlet.config.annotation.AsyncSupportConfigurer;
&nbsp;import org.springframework.web.servlet.config.annotation.ContentNegotiationConfigurer;
&nbsp;import org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration;
&nbsp;import org.springframework.web.servlet.config.annotation.EnableWebMvc;
&nbsp;import org.springframework.web.servlet.config.annotation.PathMatchConfigurer;
&nbsp;import org.springframework.web.servlet.config.annotation.ResourceChainRegistration;
&nbsp;import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistration;
&nbsp;import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;
&nbsp;import org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport;
&nbsp;import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
&nbsp;import org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver;
&nbsp;import org.springframework.web.servlet.handler.AbstractUrlHandlerMapping;
&nbsp;import org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver;
&nbsp;import org.springframework.web.servlet.i18n.FixedLocaleResolver;
&nbsp;import org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver;
&nbsp;import org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter;
&nbsp;import org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping;
&nbsp;import org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;
&nbsp;import org.springframework.web.servlet.resource.EncodedResourceResolver;
&nbsp;import org.springframework.web.servlet.resource.ResourceResolver;
&nbsp;import org.springframework.web.servlet.resource.ResourceUrlProvider;
&nbsp;import org.springframework.web.servlet.resource.VersionResourceResolver;
&nbsp;import org.springframework.web.servlet.view.BeanNameViewResolver;
&nbsp;import org.springframework.web.servlet.view.ContentNegotiatingViewResolver;
&nbsp;import org.springframework.web.servlet.view.InternalResourceViewResolver;
&nbsp;import org.springframework.web.util.UrlPathHelper;
&nbsp;
&nbsp;/**
&nbsp; * {@link EnableAutoConfiguration Auto-configuration} for {@link EnableWebMvc Web MVC}.
&nbsp; *
&nbsp; * @author Phillip Webb
&nbsp; * @author Dave Syer
&nbsp; * @author Andy Wilkinson
&nbsp; * @author Sébastien Deleuze
&nbsp; * @author Eddú Meléndez
&nbsp; * @author Stephane Nicoll
&nbsp; * @author Kristine Jetzke
&nbsp; * @author Bruce Brouwer
&nbsp; * @author Artsiom Yudovin
&nbsp; * @author Scott Frederick
&nbsp; * @since 2.0.0
&nbsp; */
&nbsp;@AutoConfiguration(after = { DispatcherServletAutoConfiguration.class, TaskExecutionAutoConfiguration.class,
&nbsp;		ValidationAutoConfiguration.class })
&nbsp;@ConditionalOnWebApplication(type = Type.SERVLET)
&nbsp;@ConditionalOnClass({ Servlet.class, DispatcherServlet.class, WebMvcConfigurer.class })
&nbsp;@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)
&nbsp;@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)
&nbsp;@ImportRuntimeHints(WebResourcesRuntimeHints.class)
<b class="nc">&nbsp;public class WebMvcAutoConfiguration {</b>
&nbsp;
&nbsp;	/**
&nbsp;	 * The default Spring MVC view prefix.
&nbsp;	 */
&nbsp;	public static final String DEFAULT_PREFIX = &quot;&quot;;
&nbsp;
&nbsp;	/**
&nbsp;	 * The default Spring MVC view suffix.
&nbsp;	 */
&nbsp;	public static final String DEFAULT_SUFFIX = &quot;&quot;;
&nbsp;
&nbsp;	private static final String SERVLET_LOCATION = &quot;/&quot;;
&nbsp;
&nbsp;	@Bean
&nbsp;	@ConditionalOnMissingBean(HiddenHttpMethodFilter.class)
&nbsp;	@ConditionalOnProperty(prefix = &quot;spring.mvc.hiddenmethod.filter&quot;, name = &quot;enabled&quot;)
&nbsp;	public OrderedHiddenHttpMethodFilter hiddenHttpMethodFilter() {
<b class="nc">&nbsp;		return new OrderedHiddenHttpMethodFilter();</b>
&nbsp;	}
&nbsp;
&nbsp;	@Bean
&nbsp;	@ConditionalOnMissingBean(FormContentFilter.class)
&nbsp;	@ConditionalOnProperty(prefix = &quot;spring.mvc.formcontent.filter&quot;, name = &quot;enabled&quot;, matchIfMissing = true)
&nbsp;	public OrderedFormContentFilter formContentFilter() {
<b class="nc">&nbsp;		return new OrderedFormContentFilter();</b>
&nbsp;	}
&nbsp;
&nbsp;	// Defined as a nested config to ensure WebMvcConfigurer is not read when not
&nbsp;	// on the classpath
&nbsp;	@Configuration(proxyBeanMethods = false)
&nbsp;	@Import(EnableWebMvcConfiguration.class)
&nbsp;	@EnableConfigurationProperties({ WebMvcProperties.class, WebProperties.class })
&nbsp;	@Order(0)
&nbsp;	public static class WebMvcAutoConfigurationAdapter implements WebMvcConfigurer, ServletContextAware {
&nbsp;
<b class="nc">&nbsp;		private static final Log logger = LogFactory.getLog(WebMvcConfigurer.class);</b>
&nbsp;
&nbsp;		private final Resources resourceProperties;
&nbsp;
&nbsp;		private final WebMvcProperties mvcProperties;
&nbsp;
&nbsp;		private final ListableBeanFactory beanFactory;
&nbsp;
&nbsp;		private final ObjectProvider&lt;HttpMessageConverters&gt; messageConvertersProvider;
&nbsp;
&nbsp;		private final ObjectProvider&lt;DispatcherServletPath&gt; dispatcherServletPath;
&nbsp;
&nbsp;		private final ObjectProvider&lt;ServletRegistrationBean&lt;?&gt;&gt; servletRegistrations;
&nbsp;
&nbsp;		private final ResourceHandlerRegistrationCustomizer resourceHandlerRegistrationCustomizer;
&nbsp;
&nbsp;		private ServletContext servletContext;
&nbsp;
&nbsp;		public WebMvcAutoConfigurationAdapter(WebProperties webProperties, WebMvcProperties mvcProperties,
&nbsp;				ListableBeanFactory beanFactory, ObjectProvider&lt;HttpMessageConverters&gt; messageConvertersProvider,
&nbsp;				ObjectProvider&lt;ResourceHandlerRegistrationCustomizer&gt; resourceHandlerRegistrationCustomizerProvider,
&nbsp;				ObjectProvider&lt;DispatcherServletPath&gt; dispatcherServletPath,
<b class="nc">&nbsp;				ObjectProvider&lt;ServletRegistrationBean&lt;?&gt;&gt; servletRegistrations) {</b>
<b class="nc">&nbsp;			this.resourceProperties = webProperties.getResources();</b>
<b class="nc">&nbsp;			this.mvcProperties = mvcProperties;</b>
<b class="nc">&nbsp;			this.beanFactory = beanFactory;</b>
<b class="nc">&nbsp;			this.messageConvertersProvider = messageConvertersProvider;</b>
<b class="nc">&nbsp;			this.resourceHandlerRegistrationCustomizer = resourceHandlerRegistrationCustomizerProvider.getIfAvailable();</b>
<b class="nc">&nbsp;			this.dispatcherServletPath = dispatcherServletPath;</b>
<b class="nc">&nbsp;			this.servletRegistrations = servletRegistrations;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public void setServletContext(ServletContext servletContext) {
<b class="nc">&nbsp;			this.servletContext = servletContext;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {
<b class="nc">&nbsp;			this.messageConvertersProvider</b>
<b class="nc">&nbsp;				.ifAvailable((customConverters) -&gt; converters.addAll(customConverters.getConverters()));</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public void configureAsyncSupport(AsyncSupportConfigurer configurer) {
<b class="nc">&nbsp;			if (this.beanFactory.containsBean(TaskExecutionAutoConfiguration.APPLICATION_TASK_EXECUTOR_BEAN_NAME)) {</b>
<b class="nc">&nbsp;				Object taskExecutor = this.beanFactory</b>
<b class="nc">&nbsp;					.getBean(TaskExecutionAutoConfiguration.APPLICATION_TASK_EXECUTOR_BEAN_NAME);</b>
<b class="nc">&nbsp;				if (taskExecutor instanceof AsyncTaskExecutor asyncTaskExecutor) {</b>
<b class="nc">&nbsp;					configurer.setTaskExecutor(asyncTaskExecutor);</b>
&nbsp;				}
&nbsp;			}
<b class="nc">&nbsp;			Duration timeout = this.mvcProperties.getAsync().getRequestTimeout();</b>
<b class="nc">&nbsp;			if (timeout != null) {</b>
<b class="nc">&nbsp;				configurer.setDefaultTimeout(timeout.toMillis());</b>
&nbsp;			}
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public void configurePathMatch(PathMatchConfigurer configurer) {
<b class="nc">&nbsp;			if (this.mvcProperties.getPathmatch()</b>
<b class="nc">&nbsp;				.getMatchingStrategy() == WebMvcProperties.MatchingStrategy.ANT_PATH_MATCHER) {</b>
<b class="nc">&nbsp;				configurer.setPathMatcher(new AntPathMatcher());</b>
<b class="nc">&nbsp;				this.dispatcherServletPath.ifAvailable((dispatcherPath) -&gt; {</b>
<b class="nc">&nbsp;					String servletUrlMapping = dispatcherPath.getServletUrlMapping();</b>
<b class="nc">&nbsp;					if (servletUrlMapping.equals(&quot;/&quot;) &amp;&amp; singleDispatcherServlet()) {</b>
<b class="nc">&nbsp;						UrlPathHelper urlPathHelper = new UrlPathHelper();</b>
<b class="nc">&nbsp;						urlPathHelper.setAlwaysUseFullPath(true);</b>
<b class="nc">&nbsp;						configurer.setUrlPathHelper(urlPathHelper);</b>
&nbsp;					}
&nbsp;				});
&nbsp;			}
&nbsp;		}
&nbsp;
&nbsp;		private boolean singleDispatcherServlet() {
<b class="nc">&nbsp;			return this.servletRegistrations.stream()</b>
<b class="nc">&nbsp;				.map(ServletRegistrationBean::getServlet)</b>
<b class="nc">&nbsp;				.filter(DispatcherServlet.class::isInstance)</b>
<b class="nc">&nbsp;				.count() == 1;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public void configureContentNegotiation(ContentNegotiationConfigurer configurer) {
<b class="nc">&nbsp;			WebMvcProperties.Contentnegotiation contentnegotiation = this.mvcProperties.getContentnegotiation();</b>
<b class="nc">&nbsp;			configurer.favorParameter(contentnegotiation.isFavorParameter());</b>
<b class="nc">&nbsp;			if (contentnegotiation.getParameterName() != null) {</b>
<b class="nc">&nbsp;				configurer.parameterName(contentnegotiation.getParameterName());</b>
&nbsp;			}
<b class="nc">&nbsp;			Map&lt;String, MediaType&gt; mediaTypes = this.mvcProperties.getContentnegotiation().getMediaTypes();</b>
<b class="nc">&nbsp;			mediaTypes.forEach(configurer::mediaType);</b>
&nbsp;		}
&nbsp;
&nbsp;		@Bean
&nbsp;		@ConditionalOnMissingBean
&nbsp;		public InternalResourceViewResolver defaultViewResolver() {
<b class="nc">&nbsp;			InternalResourceViewResolver resolver = new InternalResourceViewResolver();</b>
<b class="nc">&nbsp;			resolver.setPrefix(this.mvcProperties.getView().getPrefix());</b>
<b class="nc">&nbsp;			resolver.setSuffix(this.mvcProperties.getView().getSuffix());</b>
<b class="nc">&nbsp;			return resolver;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Bean
&nbsp;		@ConditionalOnBean(View.class)
&nbsp;		@ConditionalOnMissingBean
&nbsp;		public BeanNameViewResolver beanNameViewResolver() {
<b class="nc">&nbsp;			BeanNameViewResolver resolver = new BeanNameViewResolver();</b>
<b class="nc">&nbsp;			resolver.setOrder(Ordered.LOWEST_PRECEDENCE - 10);</b>
<b class="nc">&nbsp;			return resolver;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Bean
&nbsp;		@ConditionalOnBean(ViewResolver.class)
&nbsp;		@ConditionalOnMissingBean(name = &quot;viewResolver&quot;, value = ContentNegotiatingViewResolver.class)
&nbsp;		public ContentNegotiatingViewResolver viewResolver(BeanFactory beanFactory) {
<b class="nc">&nbsp;			ContentNegotiatingViewResolver resolver = new ContentNegotiatingViewResolver();</b>
<b class="nc">&nbsp;			resolver.setContentNegotiationManager(beanFactory.getBean(ContentNegotiationManager.class));</b>
&nbsp;			// ContentNegotiatingViewResolver uses all the other view resolvers to locate
&nbsp;			// a view so it should have a high precedence
<b class="nc">&nbsp;			resolver.setOrder(Ordered.HIGHEST_PRECEDENCE);</b>
<b class="nc">&nbsp;			return resolver;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public MessageCodesResolver getMessageCodesResolver() {
<b class="nc">&nbsp;			if (this.mvcProperties.getMessageCodesResolverFormat() != null) {</b>
<b class="nc">&nbsp;				DefaultMessageCodesResolver resolver = new DefaultMessageCodesResolver();</b>
<b class="nc">&nbsp;				resolver.setMessageCodeFormatter(this.mvcProperties.getMessageCodesResolverFormat());</b>
<b class="nc">&nbsp;				return resolver;</b>
&nbsp;			}
<b class="nc">&nbsp;			return null;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public void addFormatters(FormatterRegistry registry) {
<b class="nc">&nbsp;			ApplicationConversionService.addBeans(registry, this.beanFactory);</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public void addResourceHandlers(ResourceHandlerRegistry registry) {
<b class="nc">&nbsp;			if (!this.resourceProperties.isAddMappings()) {</b>
<b class="nc">&nbsp;				logger.debug(&quot;Default resource handling disabled&quot;);</b>
&nbsp;				return;
&nbsp;			}
<b class="nc">&nbsp;			addResourceHandler(registry, this.mvcProperties.getWebjarsPathPattern(),</b>
&nbsp;					&quot;classpath:/META-INF/resources/webjars/&quot;);
<b class="nc">&nbsp;			addResourceHandler(registry, this.mvcProperties.getStaticPathPattern(), (registration) -&gt; {</b>
<b class="nc">&nbsp;				registration.addResourceLocations(this.resourceProperties.getStaticLocations());</b>
<b class="nc">&nbsp;				if (this.servletContext != null) {</b>
<b class="nc">&nbsp;					ServletContextResource resource = new ServletContextResource(this.servletContext, SERVLET_LOCATION);</b>
<b class="nc">&nbsp;					registration.addResourceLocations(resource);</b>
&nbsp;				}
&nbsp;			});
&nbsp;		}
&nbsp;
&nbsp;		private void addResourceHandler(ResourceHandlerRegistry registry, String pattern, String... locations) {
<b class="nc">&nbsp;			addResourceHandler(registry, pattern, (registration) -&gt; registration.addResourceLocations(locations));</b>
&nbsp;		}
&nbsp;
&nbsp;		private void addResourceHandler(ResourceHandlerRegistry registry, String pattern,
&nbsp;				Consumer&lt;ResourceHandlerRegistration&gt; customizer) {
<b class="nc">&nbsp;			if (registry.hasMappingForPattern(pattern)) {</b>
&nbsp;				return;
&nbsp;			}
<b class="nc">&nbsp;			ResourceHandlerRegistration registration = registry.addResourceHandler(pattern);</b>
<b class="nc">&nbsp;			customizer.accept(registration);</b>
<b class="nc">&nbsp;			registration.setCachePeriod(getSeconds(this.resourceProperties.getCache().getPeriod()));</b>
<b class="nc">&nbsp;			registration.setCacheControl(this.resourceProperties.getCache().getCachecontrol().toHttpCacheControl());</b>
<b class="nc">&nbsp;			registration.setUseLastModified(this.resourceProperties.getCache().isUseLastModified());</b>
<b class="nc">&nbsp;			customizeResourceHandlerRegistration(registration);</b>
&nbsp;		}
&nbsp;
&nbsp;		private Integer getSeconds(Duration cachePeriod) {
<b class="nc">&nbsp;			return (cachePeriod != null) ? (int) cachePeriod.getSeconds() : null;</b>
&nbsp;		}
&nbsp;
&nbsp;		private void customizeResourceHandlerRegistration(ResourceHandlerRegistration registration) {
<b class="nc">&nbsp;			if (this.resourceHandlerRegistrationCustomizer != null) {</b>
<b class="nc">&nbsp;				this.resourceHandlerRegistrationCustomizer.customize(registration);</b>
&nbsp;			}
&nbsp;		}
&nbsp;
&nbsp;		@Bean
&nbsp;		@ConditionalOnMissingBean({ RequestContextListener.class, RequestContextFilter.class })
&nbsp;		@ConditionalOnMissingFilterBean(RequestContextFilter.class)
&nbsp;		public static RequestContextFilter requestContextFilter() {
<b class="nc">&nbsp;			return new OrderedRequestContextFilter();</b>
&nbsp;		}
&nbsp;
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Configuration equivalent to {@code @EnableWebMvc}.
&nbsp;	 */
&nbsp;	@Configuration(proxyBeanMethods = false)
&nbsp;	@EnableConfigurationProperties(WebProperties.class)
&nbsp;	public static class EnableWebMvcConfiguration extends DelegatingWebMvcConfiguration implements ResourceLoaderAware {
&nbsp;
&nbsp;		private final Resources resourceProperties;
&nbsp;
&nbsp;		private final WebMvcProperties mvcProperties;
&nbsp;
&nbsp;		private final WebProperties webProperties;
&nbsp;
&nbsp;		private final ListableBeanFactory beanFactory;
&nbsp;
&nbsp;		private final WebMvcRegistrations mvcRegistrations;
&nbsp;
&nbsp;		private ResourceLoader resourceLoader;
&nbsp;
&nbsp;		public EnableWebMvcConfiguration(WebMvcProperties mvcProperties, WebProperties webProperties,
&nbsp;				ObjectProvider&lt;WebMvcRegistrations&gt; mvcRegistrationsProvider,
&nbsp;				ObjectProvider&lt;ResourceHandlerRegistrationCustomizer&gt; resourceHandlerRegistrationCustomizerProvider,
<b class="nc">&nbsp;				ListableBeanFactory beanFactory) {</b>
<b class="nc">&nbsp;			this.resourceProperties = webProperties.getResources();</b>
<b class="nc">&nbsp;			this.mvcProperties = mvcProperties;</b>
<b class="nc">&nbsp;			this.webProperties = webProperties;</b>
<b class="nc">&nbsp;			this.mvcRegistrations = mvcRegistrationsProvider.getIfUnique();</b>
<b class="nc">&nbsp;			this.beanFactory = beanFactory;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		protected RequestMappingHandlerAdapter createRequestMappingHandlerAdapter() {
<b class="nc">&nbsp;			if (this.mvcRegistrations != null) {</b>
<b class="nc">&nbsp;				RequestMappingHandlerAdapter adapter = this.mvcRegistrations.getRequestMappingHandlerAdapter();</b>
<b class="nc">&nbsp;				if (adapter != null) {</b>
<b class="nc">&nbsp;					return adapter;</b>
&nbsp;				}
&nbsp;			}
<b class="nc">&nbsp;			return super.createRequestMappingHandlerAdapter();</b>
&nbsp;		}
&nbsp;
&nbsp;		@Bean
&nbsp;		public WelcomePageHandlerMapping welcomePageHandlerMapping(ApplicationContext applicationContext,
&nbsp;				FormattingConversionService mvcConversionService, ResourceUrlProvider mvcResourceUrlProvider) {
<b class="nc">&nbsp;			return createWelcomePageHandlerMapping(applicationContext, mvcConversionService, mvcResourceUrlProvider,</b>
&nbsp;					WelcomePageHandlerMapping::new);
&nbsp;		}
&nbsp;
&nbsp;		@Bean
&nbsp;		public WelcomePageNotAcceptableHandlerMapping welcomePageNotAcceptableHandlerMapping(
&nbsp;				ApplicationContext applicationContext, FormattingConversionService mvcConversionService,
&nbsp;				ResourceUrlProvider mvcResourceUrlProvider) {
<b class="nc">&nbsp;			return createWelcomePageHandlerMapping(applicationContext, mvcConversionService, mvcResourceUrlProvider,</b>
&nbsp;					WelcomePageNotAcceptableHandlerMapping::new);
&nbsp;		}
&nbsp;
&nbsp;		private &lt;T extends AbstractUrlHandlerMapping&gt; T createWelcomePageHandlerMapping(
&nbsp;				ApplicationContext applicationContext, FormattingConversionService mvcConversionService,
&nbsp;				ResourceUrlProvider mvcResourceUrlProvider, WelcomePageHandlerMappingFactory&lt;T&gt; factory) {
<b class="nc">&nbsp;			TemplateAvailabilityProviders templateAvailabilityProviders = new TemplateAvailabilityProviders(</b>
&nbsp;					applicationContext);
<b class="nc">&nbsp;			String staticPathPattern = this.mvcProperties.getStaticPathPattern();</b>
<b class="nc">&nbsp;			T handlerMapping = factory.create(templateAvailabilityProviders, applicationContext, getIndexHtmlResource(),</b>
&nbsp;					staticPathPattern);
<b class="nc">&nbsp;			handlerMapping.setInterceptors(getInterceptors(mvcConversionService, mvcResourceUrlProvider));</b>
<b class="nc">&nbsp;			handlerMapping.setCorsConfigurations(getCorsConfigurations());</b>
<b class="nc">&nbsp;			return handlerMapping;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		@Bean
&nbsp;		@ConditionalOnMissingBean(name = DispatcherServlet.LOCALE_RESOLVER_BEAN_NAME)
&nbsp;		public LocaleResolver localeResolver() {
<b class="nc">&nbsp;			if (this.webProperties.getLocaleResolver() == WebProperties.LocaleResolver.FIXED) {</b>
<b class="nc">&nbsp;				return new FixedLocaleResolver(this.webProperties.getLocale());</b>
&nbsp;			}
<b class="nc">&nbsp;			AcceptHeaderLocaleResolver localeResolver = new AcceptHeaderLocaleResolver();</b>
<b class="nc">&nbsp;			localeResolver.setDefaultLocale(this.webProperties.getLocale());</b>
<b class="nc">&nbsp;			return localeResolver;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		@Bean
&nbsp;		@ConditionalOnMissingBean(name = DispatcherServlet.THEME_RESOLVER_BEAN_NAME)
&nbsp;		@Deprecated(since = &quot;3.0.0&quot;, forRemoval = false)
&nbsp;		@SuppressWarnings(&quot;deprecation&quot;)
&nbsp;		public org.springframework.web.servlet.ThemeResolver themeResolver() {
<b class="nc">&nbsp;			return super.themeResolver();</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		@Bean
&nbsp;		@ConditionalOnMissingBean(name = DispatcherServlet.FLASH_MAP_MANAGER_BEAN_NAME)
&nbsp;		public FlashMapManager flashMapManager() {
<b class="nc">&nbsp;			return super.flashMapManager();</b>
&nbsp;		}
&nbsp;
&nbsp;		private Resource getIndexHtmlResource() {
<b class="nc">&nbsp;			for (String location : this.resourceProperties.getStaticLocations()) {</b>
<b class="nc">&nbsp;				Resource indexHtml = getIndexHtmlResource(location);</b>
<b class="nc">&nbsp;				if (indexHtml != null) {</b>
<b class="nc">&nbsp;					return indexHtml;</b>
&nbsp;				}
&nbsp;			}
<b class="nc">&nbsp;			ServletContext servletContext = getServletContext();</b>
<b class="nc">&nbsp;			if (servletContext != null) {</b>
<b class="nc">&nbsp;				return getIndexHtmlResource(new ServletContextResource(servletContext, SERVLET_LOCATION));</b>
&nbsp;			}
<b class="nc">&nbsp;			return null;</b>
&nbsp;		}
&nbsp;
&nbsp;		private Resource getIndexHtmlResource(String location) {
<b class="nc">&nbsp;			return getIndexHtmlResource(this.resourceLoader.getResource(location));</b>
&nbsp;		}
&nbsp;
&nbsp;		private Resource getIndexHtmlResource(Resource location) {
&nbsp;			try {
<b class="nc">&nbsp;				Resource resource = location.createRelative(&quot;index.html&quot;);</b>
<b class="nc">&nbsp;				if (resource.exists() &amp;&amp; (resource.getURL() != null)) {</b>
<b class="nc">&nbsp;					return resource;</b>
&nbsp;				}
&nbsp;			}
<b class="nc">&nbsp;			catch (Exception ex) {</b>
<b class="nc">&nbsp;			}</b>
<b class="nc">&nbsp;			return null;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Bean
&nbsp;		@Override
&nbsp;		public FormattingConversionService mvcConversionService() {
<b class="nc">&nbsp;			Format format = this.mvcProperties.getFormat();</b>
<b class="nc">&nbsp;			WebConversionService conversionService = new WebConversionService(</b>
<b class="nc">&nbsp;					new DateTimeFormatters().dateFormat(format.getDate())</b>
<b class="nc">&nbsp;						.timeFormat(format.getTime())</b>
<b class="nc">&nbsp;						.dateTimeFormat(format.getDateTime()));</b>
<b class="nc">&nbsp;			addFormatters(conversionService);</b>
<b class="nc">&nbsp;			return conversionService;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Bean
&nbsp;		@Override
&nbsp;		public Validator mvcValidator() {
<b class="nc">&nbsp;			if (!ClassUtils.isPresent(&quot;jakarta.validation.Validator&quot;, getClass().getClassLoader())) {</b>
<b class="nc">&nbsp;				return super.mvcValidator();</b>
&nbsp;			}
<b class="nc">&nbsp;			return ValidatorAdapter.get(getApplicationContext(), getValidator());</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		protected RequestMappingHandlerMapping createRequestMappingHandlerMapping() {
<b class="nc">&nbsp;			if (this.mvcRegistrations != null) {</b>
<b class="nc">&nbsp;				RequestMappingHandlerMapping mapping = this.mvcRegistrations.getRequestMappingHandlerMapping();</b>
<b class="nc">&nbsp;				if (mapping != null) {</b>
<b class="nc">&nbsp;					return mapping;</b>
&nbsp;				}
&nbsp;			}
<b class="nc">&nbsp;			return super.createRequestMappingHandlerMapping();</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		protected ConfigurableWebBindingInitializer getConfigurableWebBindingInitializer(
&nbsp;				FormattingConversionService mvcConversionService, Validator mvcValidator) {
&nbsp;			try {
<b class="nc">&nbsp;				return this.beanFactory.getBean(ConfigurableWebBindingInitializer.class);</b>
&nbsp;			}
<b class="nc">&nbsp;			catch (NoSuchBeanDefinitionException ex) {</b>
<b class="nc">&nbsp;				return super.getConfigurableWebBindingInitializer(mvcConversionService, mvcValidator);</b>
&nbsp;			}
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		protected ExceptionHandlerExceptionResolver createExceptionHandlerExceptionResolver() {
<b class="nc">&nbsp;			if (this.mvcRegistrations != null) {</b>
<b class="nc">&nbsp;				ExceptionHandlerExceptionResolver resolver = this.mvcRegistrations</b>
<b class="nc">&nbsp;					.getExceptionHandlerExceptionResolver();</b>
<b class="nc">&nbsp;				if (resolver != null) {</b>
<b class="nc">&nbsp;					return resolver;</b>
&nbsp;				}
&nbsp;			}
<b class="nc">&nbsp;			return super.createExceptionHandlerExceptionResolver();</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		protected void extendHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; exceptionResolvers) {
<b class="nc">&nbsp;			super.extendHandlerExceptionResolvers(exceptionResolvers);</b>
<b class="nc">&nbsp;			if (this.mvcProperties.isLogResolvedException()) {</b>
<b class="nc">&nbsp;				for (HandlerExceptionResolver resolver : exceptionResolvers) {</b>
<b class="nc">&nbsp;					if (resolver instanceof AbstractHandlerExceptionResolver abstractResolver) {</b>
<b class="nc">&nbsp;						abstractResolver.setWarnLogCategory(resolver.getClass().getName());</b>
&nbsp;					}
<b class="nc">&nbsp;				}</b>
&nbsp;			}
&nbsp;		}
&nbsp;
&nbsp;		@Bean
&nbsp;		@Override
&nbsp;		@SuppressWarnings(&quot;deprecation&quot;)
&nbsp;		public ContentNegotiationManager mvcContentNegotiationManager() {
<b class="nc">&nbsp;			ContentNegotiationManager manager = super.mvcContentNegotiationManager();</b>
<b class="nc">&nbsp;			List&lt;ContentNegotiationStrategy&gt; strategies = manager.getStrategies();</b>
<b class="nc">&nbsp;			ListIterator&lt;ContentNegotiationStrategy&gt; iterator = strategies.listIterator();</b>
<b class="nc">&nbsp;			while (iterator.hasNext()) {</b>
<b class="nc">&nbsp;				ContentNegotiationStrategy strategy = iterator.next();</b>
<b class="nc">&nbsp;				if (strategy instanceof org.springframework.web.accept.PathExtensionContentNegotiationStrategy) {</b>
<b class="nc">&nbsp;					iterator.set(new OptionalPathExtensionContentNegotiationStrategy(strategy));</b>
&nbsp;				}
<b class="nc">&nbsp;			}</b>
<b class="nc">&nbsp;			return manager;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public void setResourceLoader(ResourceLoader resourceLoader) {
<b class="nc">&nbsp;			this.resourceLoader = resourceLoader;</b>
&nbsp;		}
&nbsp;
&nbsp;	}
&nbsp;
&nbsp;	@Configuration(proxyBeanMethods = false)
&nbsp;	@ConditionalOnEnabledResourceChain
<b class="nc">&nbsp;	static class ResourceChainCustomizerConfiguration {</b>
&nbsp;
&nbsp;		@Bean
&nbsp;		ResourceChainResourceHandlerRegistrationCustomizer resourceHandlerRegistrationCustomizer(
&nbsp;				WebProperties webProperties) {
<b class="nc">&nbsp;			return new ResourceChainResourceHandlerRegistrationCustomizer(webProperties.getResources());</b>
&nbsp;		}
&nbsp;
&nbsp;	}
&nbsp;
&nbsp;	@FunctionalInterface
&nbsp;	interface WelcomePageHandlerMappingFactory&lt;T extends AbstractUrlHandlerMapping&gt; {
&nbsp;
&nbsp;		T create(TemplateAvailabilityProviders templateAvailabilityProviders, ApplicationContext applicationContext,
&nbsp;				Resource indexHtmlResource, String staticPathPattern);
&nbsp;
&nbsp;	}
&nbsp;
&nbsp;	@FunctionalInterface
&nbsp;	interface ResourceHandlerRegistrationCustomizer {
&nbsp;
&nbsp;		void customize(ResourceHandlerRegistration registration);
&nbsp;
&nbsp;	}
&nbsp;
&nbsp;	static class ResourceChainResourceHandlerRegistrationCustomizer implements ResourceHandlerRegistrationCustomizer {
&nbsp;
&nbsp;		private final Resources resourceProperties;
&nbsp;
<b class="nc">&nbsp;		ResourceChainResourceHandlerRegistrationCustomizer(Resources resourceProperties) {</b>
<b class="nc">&nbsp;			this.resourceProperties = resourceProperties;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public void customize(ResourceHandlerRegistration registration) {
<b class="nc">&nbsp;			Resources.Chain properties = this.resourceProperties.getChain();</b>
<b class="nc">&nbsp;			configureResourceChain(properties, registration.resourceChain(properties.isCache()));</b>
&nbsp;		}
&nbsp;
&nbsp;		private void configureResourceChain(Resources.Chain properties, ResourceChainRegistration chain) {
<b class="nc">&nbsp;			Strategy strategy = properties.getStrategy();</b>
<b class="nc">&nbsp;			if (properties.isCompressed()) {</b>
<b class="nc">&nbsp;				chain.addResolver(new EncodedResourceResolver());</b>
&nbsp;			}
<b class="nc">&nbsp;			if (strategy.getFixed().isEnabled() || strategy.getContent().isEnabled()) {</b>
<b class="nc">&nbsp;				chain.addResolver(getVersionResourceResolver(strategy));</b>
&nbsp;			}
&nbsp;		}
&nbsp;
&nbsp;		private ResourceResolver getVersionResourceResolver(Strategy properties) {
<b class="nc">&nbsp;			VersionResourceResolver resolver = new VersionResourceResolver();</b>
<b class="nc">&nbsp;			if (properties.getFixed().isEnabled()) {</b>
<b class="nc">&nbsp;				String version = properties.getFixed().getVersion();</b>
<b class="nc">&nbsp;				String[] paths = properties.getFixed().getPaths();</b>
<b class="nc">&nbsp;				resolver.addFixedVersionStrategy(version, paths);</b>
&nbsp;			}
<b class="nc">&nbsp;			if (properties.getContent().isEnabled()) {</b>
<b class="nc">&nbsp;				String[] paths = properties.getContent().getPaths();</b>
<b class="nc">&nbsp;				resolver.addContentVersionStrategy(paths);</b>
&nbsp;			}
<b class="nc">&nbsp;			return resolver;</b>
&nbsp;		}
&nbsp;
&nbsp;	}
&nbsp;
&nbsp;	@Configuration(proxyBeanMethods = false)
&nbsp;	@ConditionalOnProperty(prefix = &quot;spring.mvc.problemdetails&quot;, name = &quot;enabled&quot;, havingValue = &quot;true&quot;)
<b class="nc">&nbsp;	static class ProblemDetailsErrorHandlingConfiguration {</b>
&nbsp;
&nbsp;		@Bean
&nbsp;		@ConditionalOnMissingBean(ResponseEntityExceptionHandler.class)
&nbsp;		@Order(0)
&nbsp;		ProblemDetailsExceptionHandler problemDetailsExceptionHandler() {
<b class="nc">&nbsp;			return new ProblemDetailsExceptionHandler();</b>
&nbsp;		}
&nbsp;
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Decorator to make
&nbsp;	 * {@link org.springframework.web.accept.PathExtensionContentNegotiationStrategy}
&nbsp;	 * optional depending on a request attribute.
&nbsp;	 */
&nbsp;	static class OptionalPathExtensionContentNegotiationStrategy implements ContentNegotiationStrategy {
&nbsp;
&nbsp;		@SuppressWarnings(&quot;deprecation&quot;)
<b class="nc">&nbsp;		private static final String SKIP_ATTRIBUTE = org.springframework.web.accept.PathExtensionContentNegotiationStrategy.class</b>
<b class="nc">&nbsp;			.getName() + &quot;.SKIP&quot;;</b>
&nbsp;
&nbsp;		private final ContentNegotiationStrategy delegate;
&nbsp;
<b class="nc">&nbsp;		OptionalPathExtensionContentNegotiationStrategy(ContentNegotiationStrategy delegate) {</b>
<b class="nc">&nbsp;			this.delegate = delegate;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public List&lt;MediaType&gt; resolveMediaTypes(NativeWebRequest webRequest)
&nbsp;				throws HttpMediaTypeNotAcceptableException {
<b class="nc">&nbsp;			Object skip = webRequest.getAttribute(SKIP_ATTRIBUTE, RequestAttributes.SCOPE_REQUEST);</b>
<b class="nc">&nbsp;			if (skip != null &amp;&amp; Boolean.parseBoolean(skip.toString())) {</b>
<b class="nc">&nbsp;				return MEDIA_TYPE_ALL_LIST;</b>
&nbsp;			}
<b class="nc">&nbsp;			return this.delegate.resolveMediaTypes(webRequest);</b>
&nbsp;		}
&nbsp;
&nbsp;	}
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-04-01 11:12</div>
</div>
</body>
</html>
