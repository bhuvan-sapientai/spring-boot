


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > MimeMappings</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">org.springframework.boot.web.server</a>
</div>

<h1>Coverage Summary for Class: MimeMappings (org.springframework.boot.web.server)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">MimeMappings</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/15)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/36)
  </span>
</td>
</tr>
  <tr>
    <td class="name">MimeMappings$DefaultMimeMappings</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/68)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">MimeMappings$LazyMimeMappingsCopy</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/12)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">MimeMappings$Mapping</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/16)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">MimeMappings$MimeMappingsRuntimeHints</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/37)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/135)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * Copyright 2012-2023 the original author or authors.
&nbsp; *
&nbsp; * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
&nbsp; * you may not use this file except in compliance with the License.
&nbsp; * You may obtain a copy of the License at
&nbsp; *
&nbsp; *      https://www.apache.org/licenses/LICENSE-2.0
&nbsp; *
&nbsp; * Unless required by applicable law or agreed to in writing, software
&nbsp; * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
&nbsp; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
&nbsp; * See the License for the specific language governing permissions and
&nbsp; * limitations under the License.
&nbsp; */
&nbsp;
&nbsp;package org.springframework.boot.web.server;
&nbsp;
&nbsp;import java.io.IOException;
&nbsp;import java.util.Collection;
&nbsp;import java.util.Collections;
&nbsp;import java.util.Iterator;
&nbsp;import java.util.LinkedHashMap;
&nbsp;import java.util.Locale;
&nbsp;import java.util.Map;
&nbsp;import java.util.Map.Entry;
&nbsp;import java.util.concurrent.atomic.AtomicBoolean;
&nbsp;
&nbsp;import org.springframework.aot.hint.RuntimeHints;
&nbsp;import org.springframework.aot.hint.RuntimeHintsRegistrar;
&nbsp;import org.springframework.core.io.ClassPathResource;
&nbsp;import org.springframework.core.io.support.PropertiesLoaderUtils;
&nbsp;import org.springframework.util.Assert;
&nbsp;
&nbsp;/**
&nbsp; * Simple server-independent abstraction for mime mappings. Roughly equivalent to the
&nbsp; * {@literal &amp;lt;mime-mapping&amp;gt;} element traditionally found in web.xml.
&nbsp; *
&nbsp; * @author Phillip Webb
&nbsp; * @author Guirong Hu
&nbsp; * @since 2.0.0
&nbsp; */
&nbsp;public sealed class MimeMappings implements Iterable&lt;MimeMappings.Mapping&gt; {
&nbsp;
&nbsp;	/**
&nbsp;	 * Default mime mapping commonly used.
&nbsp;	 */
<b class="nc">&nbsp;	public static final MimeMappings DEFAULT = new DefaultMimeMappings();</b>
&nbsp;
&nbsp;	private final Map&lt;String, Mapping&gt; map;
&nbsp;
&nbsp;	/**
&nbsp;	 * Create a new empty {@link MimeMappings} instance.
&nbsp;	 */
<b class="nc">&nbsp;	public MimeMappings() {</b>
<b class="nc">&nbsp;		this.map = new LinkedHashMap&lt;&gt;();</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Create a new {@link MimeMappings} instance from the specified mappings.
&nbsp;	 * @param mappings the source mappings
&nbsp;	 */
&nbsp;	public MimeMappings(MimeMappings mappings) {
<b class="nc">&nbsp;		this(mappings, true);</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Create a new {@link MimeMappings} from the specified mappings.
&nbsp;	 * @param mappings the source mappings with extension as the key and mime-type as the
&nbsp;	 * value
&nbsp;	 */
<b class="nc">&nbsp;	public MimeMappings(Map&lt;String, String&gt; mappings) {</b>
<b class="nc">&nbsp;		Assert.notNull(mappings, &quot;Mappings must not be null&quot;);</b>
<b class="nc">&nbsp;		this.map = new LinkedHashMap&lt;&gt;();</b>
<b class="nc">&nbsp;		mappings.forEach(this::add);</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Internal constructor.
&nbsp;	 * @param mappings source mappings
&nbsp;	 * @param mutable if the new object should be mutable.
&nbsp;	 */
<b class="nc">&nbsp;	MimeMappings(MimeMappings mappings, boolean mutable) {</b>
<b class="nc">&nbsp;		Assert.notNull(mappings, &quot;Mappings must not be null&quot;);</b>
<b class="nc">&nbsp;		this.map = (mutable ? new LinkedHashMap&lt;&gt;(mappings.map) : Collections.unmodifiableMap(mappings.map));</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Add a new mime mapping.
&nbsp;	 * @param extension the file extension (excluding &#39;.&#39;)
&nbsp;	 * @param mimeType the mime type to map
&nbsp;	 * @return any previous mapping or {@code null}
&nbsp;	 */
&nbsp;	public String add(String extension, String mimeType) {
<b class="nc">&nbsp;		Assert.notNull(extension, &quot;Extension must not be null&quot;);</b>
<b class="nc">&nbsp;		Assert.notNull(mimeType, &quot;MimeType must not be null&quot;);</b>
<b class="nc">&nbsp;		Mapping previous = this.map.put(extension.toLowerCase(Locale.ENGLISH), new Mapping(extension, mimeType));</b>
<b class="nc">&nbsp;		return (previous != null) ? previous.getMimeType() : null;</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Remove an existing mapping.
&nbsp;	 * @param extension the file extension (excluding &#39;.&#39;)
&nbsp;	 * @return the removed mime mapping or {@code null} if no item was removed
&nbsp;	 */
&nbsp;	public String remove(String extension) {
<b class="nc">&nbsp;		Assert.notNull(extension, &quot;Extension must not be null&quot;);</b>
<b class="nc">&nbsp;		Mapping previous = this.map.remove(extension.toLowerCase(Locale.ENGLISH));</b>
<b class="nc">&nbsp;		return (previous != null) ? previous.getMimeType() : null;</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Get a mime mapping for the given extension.
&nbsp;	 * @param extension the file extension (excluding &#39;.&#39;)
&nbsp;	 * @return a mime mapping or {@code null}
&nbsp;	 */
&nbsp;	public String get(String extension) {
<b class="nc">&nbsp;		Assert.notNull(extension, &quot;Extension must not be null&quot;);</b>
<b class="nc">&nbsp;		Mapping mapping = this.map.get(extension.toLowerCase(Locale.ENGLISH));</b>
<b class="nc">&nbsp;		return (mapping != null) ? mapping.getMimeType() : null;</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Returns all defined mappings.
&nbsp;	 * @return the mappings.
&nbsp;	 */
&nbsp;	public Collection&lt;Mapping&gt; getAll() {
<b class="nc">&nbsp;		return this.map.values();</b>
&nbsp;	}
&nbsp;
&nbsp;	@Override
&nbsp;	public final Iterator&lt;Mapping&gt; iterator() {
<b class="nc">&nbsp;		return getAll().iterator();</b>
&nbsp;	}
&nbsp;
&nbsp;	@Override
&nbsp;	public boolean equals(Object obj) {
<b class="nc">&nbsp;		if (obj == null) {</b>
<b class="nc">&nbsp;			return false;</b>
&nbsp;		}
<b class="nc">&nbsp;		if (obj == this) {</b>
<b class="nc">&nbsp;			return true;</b>
&nbsp;		}
<b class="nc">&nbsp;		if (obj instanceof MimeMappings other) {</b>
<b class="nc">&nbsp;			return getMap().equals(other.map);</b>
&nbsp;		}
<b class="nc">&nbsp;		return false;</b>
&nbsp;	}
&nbsp;
&nbsp;	@Override
&nbsp;	public int hashCode() {
<b class="nc">&nbsp;		return getMap().hashCode();</b>
&nbsp;	}
&nbsp;
&nbsp;	Map&lt;String, Mapping&gt; getMap() {
<b class="nc">&nbsp;		return this.map;</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Create a new unmodifiable view of the specified mapping. Methods that attempt to
&nbsp;	 * modify the returned map will throw {@link UnsupportedOperationException}s.
&nbsp;	 * @param mappings the mappings
&nbsp;	 * @return an unmodifiable view of the specified mappings.
&nbsp;	 */
&nbsp;	public static MimeMappings unmodifiableMappings(MimeMappings mappings) {
<b class="nc">&nbsp;		Assert.notNull(mappings, &quot;Mappings must not be null&quot;);</b>
<b class="nc">&nbsp;		return new MimeMappings(mappings, false);</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Create a new lazy copy of the given mappings that will only copy entries if the
&nbsp;	 * mappings are mutated.
&nbsp;	 * @param mappings the source mappings
&nbsp;	 * @return a new mappings instance
&nbsp;	 * @since 3.0.0
&nbsp;	 */
&nbsp;	public static MimeMappings lazyCopy(MimeMappings mappings) {
<b class="nc">&nbsp;		Assert.notNull(mappings, &quot;Mappings must not be null&quot;);</b>
<b class="nc">&nbsp;		return new LazyMimeMappingsCopy(mappings);</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * A single mime mapping.
&nbsp;	 */
&nbsp;	public static final class Mapping {
&nbsp;
&nbsp;		private final String extension;
&nbsp;
&nbsp;		private final String mimeType;
&nbsp;
<b class="nc">&nbsp;		public Mapping(String extension, String mimeType) {</b>
<b class="nc">&nbsp;			Assert.notNull(extension, &quot;Extension must not be null&quot;);</b>
<b class="nc">&nbsp;			Assert.notNull(mimeType, &quot;MimeType must not be null&quot;);</b>
<b class="nc">&nbsp;			this.extension = extension;</b>
<b class="nc">&nbsp;			this.mimeType = mimeType;</b>
&nbsp;		}
&nbsp;
&nbsp;		public String getExtension() {
<b class="nc">&nbsp;			return this.extension;</b>
&nbsp;		}
&nbsp;
&nbsp;		public String getMimeType() {
<b class="nc">&nbsp;			return this.mimeType;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public boolean equals(Object obj) {
<b class="nc">&nbsp;			if (obj == null) {</b>
<b class="nc">&nbsp;				return false;</b>
&nbsp;			}
<b class="nc">&nbsp;			if (obj == this) {</b>
<b class="nc">&nbsp;				return true;</b>
&nbsp;			}
<b class="nc">&nbsp;			if (obj instanceof Mapping other) {</b>
<b class="nc">&nbsp;				return this.extension.equals(other.extension) &amp;&amp; this.mimeType.equals(other.mimeType);</b>
&nbsp;			}
<b class="nc">&nbsp;			return false;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public int hashCode() {
<b class="nc">&nbsp;			return this.extension.hashCode();</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public String toString() {
<b class="nc">&nbsp;			return &quot;Mapping [extension=&quot; + this.extension + &quot;, mimeType=&quot; + this.mimeType + &quot;]&quot;;</b>
&nbsp;		}
&nbsp;
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * {@link MimeMappings} implementation used for {@link MimeMappings#DEFAULT}. Provides
&nbsp;	 * in-memory access for common mappings and lazily loads the complete set when
&nbsp;	 * necessary.
&nbsp;	 */
&nbsp;	static final class DefaultMimeMappings extends MimeMappings {
&nbsp;
&nbsp;		static final String MIME_MAPPINGS_PROPERTIES = &quot;mime-mappings.properties&quot;;
&nbsp;
&nbsp;		private static final MimeMappings COMMON;
&nbsp;
&nbsp;		static {
<b class="nc">&nbsp;			MimeMappings mappings = new MimeMappings();</b>
<b class="nc">&nbsp;			mappings.add(&quot;avi&quot;, &quot;video/x-msvideo&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;bin&quot;, &quot;application/octet-stream&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;body&quot;, &quot;text/html&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;class&quot;, &quot;application/java&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;css&quot;, &quot;text/css&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;dtd&quot;, &quot;application/xml-dtd&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;gif&quot;, &quot;image/gif&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;gtar&quot;, &quot;application/x-gtar&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;gz&quot;, &quot;application/x-gzip&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;htm&quot;, &quot;text/html&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;html&quot;, &quot;text/html&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;jar&quot;, &quot;application/java-archive&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;java&quot;, &quot;text/x-java-source&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;jnlp&quot;, &quot;application/x-java-jnlp-file&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;jpe&quot;, &quot;image/jpeg&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;jpeg&quot;, &quot;image/jpeg&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;jpg&quot;, &quot;image/jpeg&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;js&quot;, &quot;text/javascript&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;json&quot;, &quot;application/json&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;otf&quot;, &quot;font/otf&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;pdf&quot;, &quot;application/pdf&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;png&quot;, &quot;image/png&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;ps&quot;, &quot;application/postscript&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;tar&quot;, &quot;application/x-tar&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;tif&quot;, &quot;image/tiff&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;tiff&quot;, &quot;image/tiff&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;ttf&quot;, &quot;font/ttf&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;txt&quot;, &quot;text/plain&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;xht&quot;, &quot;application/xhtml+xml&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;xhtml&quot;, &quot;application/xhtml+xml&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;xls&quot;, &quot;application/vnd.ms-excel&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;xml&quot;, &quot;application/xml&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;xsl&quot;, &quot;application/xml&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;xslt&quot;, &quot;application/xslt+xml&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;wasm&quot;, &quot;application/wasm&quot;);</b>
<b class="nc">&nbsp;			mappings.add(&quot;zip&quot;, &quot;application/zip&quot;);</b>
<b class="nc">&nbsp;			COMMON = unmodifiableMappings(mappings);</b>
&nbsp;		}
&nbsp;
&nbsp;		private volatile Map&lt;String, Mapping&gt; loaded;
&nbsp;
&nbsp;		DefaultMimeMappings() {
<b class="nc">&nbsp;			super(new MimeMappings(), false);</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public Collection&lt;Mapping&gt; getAll() {
<b class="nc">&nbsp;			return load().values();</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public String get(String extension) {
<b class="nc">&nbsp;			Assert.notNull(extension, &quot;Extension must not be null&quot;);</b>
<b class="nc">&nbsp;			extension = extension.toLowerCase(Locale.ENGLISH);</b>
<b class="nc">&nbsp;			Map&lt;String, Mapping&gt; loaded = this.loaded;</b>
<b class="nc">&nbsp;			if (loaded != null) {</b>
<b class="nc">&nbsp;				return get(loaded, extension);</b>
&nbsp;			}
<b class="nc">&nbsp;			String commonMimeType = COMMON.get(extension);</b>
<b class="nc">&nbsp;			if (commonMimeType != null) {</b>
<b class="nc">&nbsp;				return commonMimeType;</b>
&nbsp;			}
<b class="nc">&nbsp;			loaded = load();</b>
<b class="nc">&nbsp;			return get(loaded, extension);</b>
&nbsp;		}
&nbsp;
&nbsp;		private String get(Map&lt;String, Mapping&gt; mappings, String extension) {
<b class="nc">&nbsp;			Mapping mapping = mappings.get(extension);</b>
<b class="nc">&nbsp;			return (mapping != null) ? mapping.getMimeType() : null;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		Map&lt;String, Mapping&gt; getMap() {
<b class="nc">&nbsp;			return load();</b>
&nbsp;		}
&nbsp;
&nbsp;		private Map&lt;String, Mapping&gt; load() {
<b class="nc">&nbsp;			Map&lt;String, Mapping&gt; loaded = this.loaded;</b>
<b class="nc">&nbsp;			if (loaded != null) {</b>
<b class="nc">&nbsp;				return loaded;</b>
&nbsp;			}
&nbsp;			try {
<b class="nc">&nbsp;				loaded = new LinkedHashMap&lt;&gt;();</b>
<b class="nc">&nbsp;				for (Entry&lt;?, ?&gt; entry : PropertiesLoaderUtils</b>
<b class="nc">&nbsp;					.loadProperties(new ClassPathResource(MIME_MAPPINGS_PROPERTIES, getClass()))</b>
<b class="nc">&nbsp;					.entrySet()) {</b>
<b class="nc">&nbsp;					loaded.put((String) entry.getKey(),</b>
<b class="nc">&nbsp;							new Mapping((String) entry.getKey(), (String) entry.getValue()));</b>
<b class="nc">&nbsp;				}</b>
<b class="nc">&nbsp;				loaded = Collections.unmodifiableMap(loaded);</b>
<b class="nc">&nbsp;				this.loaded = loaded;</b>
<b class="nc">&nbsp;				return loaded;</b>
&nbsp;			}
<b class="nc">&nbsp;			catch (IOException ex) {</b>
<b class="nc">&nbsp;				throw new IllegalArgumentException(&quot;Unable to load the default MIME types&quot;, ex);</b>
&nbsp;			}
&nbsp;		}
&nbsp;
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * {@link MimeMappings} implementation used to create a lazy copy only when the
&nbsp;	 * mappings are mutated.
&nbsp;	 */
&nbsp;	static final class LazyMimeMappingsCopy extends MimeMappings {
&nbsp;
&nbsp;		private final MimeMappings source;
&nbsp;
<b class="nc">&nbsp;		private final AtomicBoolean copied = new AtomicBoolean();</b>
&nbsp;
<b class="nc">&nbsp;		LazyMimeMappingsCopy(MimeMappings source) {</b>
<b class="nc">&nbsp;			this.source = source;</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public String add(String extension, String mimeType) {
<b class="nc">&nbsp;			copyIfNecessary();</b>
<b class="nc">&nbsp;			return super.add(extension, mimeType);</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public String remove(String extension) {
<b class="nc">&nbsp;			copyIfNecessary();</b>
<b class="nc">&nbsp;			return super.remove(extension);</b>
&nbsp;		}
&nbsp;
&nbsp;		private void copyIfNecessary() {
<b class="nc">&nbsp;			if (this.copied.compareAndSet(false, true)) {</b>
<b class="nc">&nbsp;				this.source.forEach((mapping) -&gt; add(mapping.getExtension(), mapping.getMimeType()));</b>
&nbsp;			}
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public String get(String extension) {
<b class="nc">&nbsp;			return !this.copied.get() ? this.source.get(extension) : super.get(extension);</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		public Collection&lt;Mapping&gt; getAll() {
<b class="nc">&nbsp;			return !this.copied.get() ? this.source.getAll() : super.getAll();</b>
&nbsp;		}
&nbsp;
&nbsp;		@Override
&nbsp;		Map&lt;String, Mapping&gt; getMap() {
<b class="nc">&nbsp;			return !this.copied.get() ? this.source.getMap() : super.getMap();</b>
&nbsp;		}
&nbsp;
&nbsp;	}
&nbsp;
<b class="nc">&nbsp;	static class MimeMappingsRuntimeHints implements RuntimeHintsRegistrar {</b>
&nbsp;
&nbsp;		@Override
&nbsp;		public void registerHints(RuntimeHints hints, ClassLoader classLoader) {
<b class="nc">&nbsp;			hints.resources()</b>
<b class="nc">&nbsp;				.registerPattern(&quot;org/springframework/boot/web/server/&quot; + DefaultMimeMappings.MIME_MAPPINGS_PROPERTIES);</b>
&nbsp;		}
&nbsp;
&nbsp;	}
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-03-28 21:28</div>
</div>
</body>
</html>
